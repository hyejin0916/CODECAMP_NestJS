# 데이터베이스 목록
show databases;
# 프로젝트 선택
use myproject;

# 프로시저 생성(세미콜론 위치 주의)
create procedure mydummydata()
begin
	declare i int default 1;
	while i <= 5000000 do
		insert INTO board(writer, title, contents) values('철수', rand(), '반갑습니다');
		set i = i + 1;
	end while;
end;

# 프로시저 목록
show procedure status;
# 프로시저 실행
call mydummydata(); 

SELECT * FROM board;


# 데이터 전체 갯수 확인
select count(*) from board
;

# 쿼리 검색 속도 비교
SELECT * from board where title = '0.42853127366726407';
SELECT * FROM board where number = 102;

# 옵티마이저 실행 계획 확인
explain SELECT * from board where title = '0.42853127366726407';
explain SELECT * FROM board where number = 102;

# 인덱스 확인
show index from board;

# 인덱스 생성
CREATE index idx_title on board(title);
show index from board;

# 옵티마이저 실행 계획 재확인
explain SELECT * from board where title = '0.42853127366726407';
explain SELECT * FROM board where number = 102;

# 인덱싱된 컬럼으로 재쿼리 후 성능 비교
SELECT * from board where title = '0.42853127366726407';
SELECT * FROM board where number = 102;